# 00 노드로 만들 수 있는 대표적인 서버와 용도

## 00-1 서버는 왜 필요할까?

**API** : 프로그램을 쉽게 제작할 수 있게 미리 만들어 놓은 것들의 모음 -> 우리는 운영체제의 API를 이용해서 하나의 단말기기에서 동작하는 프로그램을 만들게 된다.

**클라이언트** : 다른 곳에 있는 단말에 데이터를 달라고 요청하는 프로그램

**서버** : 다른 곳에서 요청받은 명령을 처리해 주는 프로그램

우리가 만든 프로그램을 인터넷에 연결하기 위해서는 **네트워크 카드**가 들어있어야 함

서버는 **포트**를 저장해서 그 **포트**로 요청을 받을 수 있다. -> **포트**란? 단말에 접속하기 위한 논리적인 접속 위치(안드로이드, 윈도우 같은 OS들은 0~1023번시작)

**웹서버** : 웹 브라우저에서 접속하는 서버

**프로토콜**: 데이터를 서로 어떤 형태로 주고받을 것인지를 정한 것 -> **HTTP** : 인터넷 상에서 데이터를 어떻게 주고받으면 되는지 정의해 둔 것 , 모든 웹 브라우저가 이 방식을 따른다.

**에이잭스 방식** : 모바일 단말에서는 웹 문서를 웹 서버가 아닌 단말 내부에 저장해 두었다가 화면에 띄운 후 웹 서버로 필요한 데이터만 요청하는 방식 사용
-> 화면 부분적으로 갱신할 수 있기 때문에 화면 처리 속도가 빨라지는 장점이 있다.


## 00-2 대표적인 서버 유형은 어떤 것이 있을까?

**서버의 종류** : 채팅 서버(실시간 채팅 기능 지원), 위치 기반 서비스 서버, 모바일 서버, JSON-RPC 서버, 웹 서버(모든 서버의 기본)
HTTP 프로토콜로 웹 서버를 만들고 나면 그 위에 채팅 서버나 위치 기반 서비스 서버 등을 위한 기능을 추가하여 새로운 서버를 만들 수 있다.

## 00-3 웹 서버의 기능은 무엇일까?

**웹 서버** : 웹 브라우저에서 웹 문서를 요청할 때 필요한 기능을 수행한다.

노드에서 제공하는 다양한 모듈을 사용하여 웹 서버를 만든다.

여기서는 익스프레스로 기본 구조를 만들고 몽고디비를 이용해서 데이터를 저장하거나 조회한다.

**뷰 템플릿**은 클라이언트에 응답을 보낼 때 사용하려고 미리 웹 문서의 원형을 만들어 놓은 것이며, 패스포트는 사용자 로그인이나 회원가입을 위해 사용한다.

**Localhost(로컬 호스트)** : PC 자신을 나타내는 인터넷 주소, 인터넷상에 있는 다른 PC나 단말에 연결하려고 할 때 IP와 같은 단말 주소를 사용하는데 이때 다른 단말이 아닌 자기 자신을 가리킬 때 사용

**익스프레스**가 웹 서버에 필요한 파일들을 자동으로 만들어 줌으로써 더 쉽게 웹 서버를 제작할 수 있도록 도와준다.

파일을 업로드하거나 다운로드하는 기능, 세션을 만들거나 쿠키를 저장하는 기능들도 웹 서버를 만들 때 필요하다.

## 00-4 채팅 서버의 중요한 기능은 무엇일까?

**채팅 서버** :  일대일 채팅이나 그룹 채팅처럼 실시간 채팅 기능을 클라이언트에서 사용하고 싶을 때 만든다.

웹 브라우저나 모바일 단말 같은 클라이언트에서 채팅 메시지를 채팅 서버에 보내면 채팅 서버는 이 메시지를 누구에게 전달할 것인지를 결정한 후 응답을 보낸다.

웹 서버에 기능 추가한 상태로 구성되며 일대일 채팅과 그룹 채팅 기능을 제공한다.

클라이언트는 채팅을 위해 채팅 서버에 접속한 후 로그인하고 친구 목록을 가져올 수 있다.

## 00-5 JSON-RPC 서버의 중요한 기능은 무엇일까?

**JSON-RPC 서버** :  서버 쪽에 함수를 만들어 두고 클라이언트에서 함수를 호출하듯이 데이터를 요청하면 응답하는 서버이다. (주로 웹 문서가 아닌 데이터만을 주고 받을 때 사용)

**JSON** :  어떤 형식으로 데이터를 주고받을지를 정해 놓은 표준 데이터 포맷이며 RPC(Remote Procedure Call) 방식으로 데이터를 주고 받는다.

**RPC** : 서버 쪽에 함수를 만들어 두고 클라이언트에서 함수를 호출하듯이 데이터를 요청할 수 있도록 만들어주는 표준

JSON과 RPC 표준을 함께 사용하면 서버 쪽에 구축해야 하는 기능을 함수별로 명확하게 구분하여 만들 수 있다. -> 서버의 유지 관리가 쉬워진다.

**핸들러** : 서버에 등록된 함수

클라이언트가 웹 서버에 웹 문서를 요청하는 것이 아니라 데이터만 요청하고 싶다면 **JSON-RPC 서버**를 이용하는 것이 훨씬 쉽고 간단

## 00-6 위치 기반 서비스 서버의 중요한 기능은 무엇일까?

위치 정보는 경도와 좌표를 사용하는데 그대로 저장하면 데이터 양이 늘어나고 두 개의 값을 한꺼번에 비교하여 조회하면 검색 속도가 현저하게 떨어진다.

->위치 정보를 효율적으로 저장하고 조회하는 별도의 방법 필요 -> **위치 기반 서비스 서버**

**위치 기반 서비스 서버** : 공간 데이터라고도 하며 검색 속도가 떨어지지 않도록 **공간 인덱싱 방법(2차원 인덱싱 방법)**을 사용한다(보통 일반 데이터는 데이터 베이스에서 B-Tree인덱싱 방법(1차원 데이터)을 사용)

## 00-7 모바일 서버의 중요한 기능은 무엇일까?

**모바일 서버** : 모바일 단말을 사용할 때 필요한 기능을 제공하는 서버, 웹 서버를 만든 후 모바일 서비스를 위주로 사용할 때 부르기도 한다.

모바일 단말에서 웹 브라우저를 열고 웹 문서를 요청할 경우 **웹 서버의 기능**만으로 충분

모바일 앱에서 채팅 기능을 만들어 사용할 때에도 채팅 서버의 기능을 그대로 사용

따라서 여기에서 말하는 모바일 서버로 다루는 부분은 주로 모바일 단말 전용으로 사용하는 부분만을 말한다.(사용자가 사용하는 단말을 서버에 등록한 후 관리자가 단말 정보를 알 수 있는 방법, 모바일 단말 쪽으로 푸시 메시지를 보내 공지사항 등을 알려주는 방법)

앱이 아닌 모바일 웹을 만들어 사용하는 경우에는 PC용 웹 브라우저에서 작동하는 **웹 서버**를 그대로 사용
